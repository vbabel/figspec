export function roundTo(x, to = 0) {
  if (to === 0) {
    return Math.round(x);
  }
  const p = Math.pow(10, to);
  return Math.round(x * p) / p;
}
export function nextPowerOfTwo(num, options) {
  const nearest = nearestPowerOfTwo(num, options);
  return Math.min(options.max, nearest > num ? nearest : nearest * 2);
}
export function previousPowerOfTwo(num, options) {
  const nearest = nearestPowerOfTwo(num, options);
  return Math.max(options.min, nearest < num ? nearest : nearest / 2);
}
function nearestPowerOfTwo(num, options) {
  if (num < options.min) {
    return options.min;
  } else if (num > options.max) {
    return options.max;
  }
  if (num < 1) {
    return 1 / nearestPowerOfTwo(1 / num, options);
  }
  const power = Math.round(Math.log(num) / Math.log(2));
  return 2 ** power;
}
